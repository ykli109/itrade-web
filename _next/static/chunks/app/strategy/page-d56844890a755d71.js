(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[810],{8226:(e,a,r)=>{Promise.resolve().then(r.bind(r,2357))},2357:(e,a,r)=>{"use strict";r.d(a,{default:()=>o});var s=r(5155),n=r(2115);function t(e){let{condition:a,onUpdate:r,onRemove:n}=e;return(0,s.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-shadow",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,s.jsxs)("h3",{className:"text-sm font-medium text-gray-700",children:["price"===a.type&&"价格条件","volume"===a.type&&"成交量条件","drawdown"===a.type&&"回撤条件"]}),(0,s.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-red-500 transition-colors",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-4",children:(()=>{switch(a.type){case"price":return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("input",{type:"number",placeholder:"观察天数",className:"p-2 border rounded",value:a.params.days||"",onChange:e=>r({days:Number(e.target.value)})}),(0,s.jsx)("input",{type:"number",placeholder:"涨幅百分比",className:"p-2 border rounded",value:a.params.percentage||"",onChange:e=>r({percentage:Number(e.target.value)})})]});case"volume":return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("input",{type:"number",placeholder:"观察天数",className:"p-2 border rounded",value:a.params.days||"",onChange:e=>r({days:Number(e.target.value)})}),(0,s.jsx)("input",{type:"number",placeholder:"对比天数",className:"p-2 border rounded",value:a.params.compareDays||"",onChange:e=>r({compareDays:Number(e.target.value)})}),(0,s.jsx)("input",{type:"number",placeholder:"量比",className:"p-2 border rounded",value:a.params.compareRatio||"",onChange:e=>r({compareRatio:Number(e.target.value)})})]});case"drawdown":return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("input",{type:"number",placeholder:"观察天数",className:"p-2 border rounded",value:a.params.days||"",onChange:e=>r({days:Number(e.target.value)})}),(0,s.jsx)("input",{type:"number",placeholder:"最大回撤百分比",className:"p-2 border rounded",value:a.params.percentage||"",onChange:e=>r({percentage:Number(e.target.value)})})]})}})()})]})}function o(){let[e,a]=(0,n.useState)({id:"",name:"",conditions:[]}),r=e=>{let r={id:Math.random().toString(36).substr(2,9),type:e,params:{}};a(e=>({...e,conditions:[...e.conditions,r]}))},o=(e,r)=>{a(a=>({...a,conditions:a.conditions.map(a=>a.id===e?{...a,params:{...a.params,...r}}:a)}))},l=e=>{a(a=>({...a,conditions:a.conditions.filter(a=>a.id!==e)}))},d=async()=>{};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg border border-gray-100",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"策略名称"}),(0,s.jsx)("input",{type:"text",placeholder:"输入策略名称",className:"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",value:e.name,onChange:e=>a(a=>({...a,name:e.target.value}))})]}),(0,s.jsx)("div",{className:"space-y-4",children:e.conditions.map(e=>(0,s.jsx)(t,{condition:e,onUpdate:a=>o(e.id,a),onRemove:()=>l(e.id)},e.id))}),(0,s.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg border border-gray-100",children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-4",children:"添加条件"}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,s.jsx)("button",{onClick:()=>r("price"),className:"px-4 py-2 bg-blue-500 text-white text-sm rounded-full hover:bg-blue-600 transition-colors",children:"+ 价格条件"}),(0,s.jsx)("button",{onClick:()=>r("volume"),className:"px-4 py-2 bg-green-500 text-white text-sm rounded-full hover:bg-green-600 transition-colors",children:"+ 成交量条件"}),(0,s.jsx)("button",{onClick:()=>r("drawdown"),className:"px-4 py-2 bg-purple-500 text-white text-sm rounded-full hover:bg-purple-600 transition-colors",children:"+ 回撤条件"})]})]}),(0,s.jsx)("button",{onClick:d,className:"w-full py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium",children:"执行策略"})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[441,517,358],()=>a(8226)),_N_E=e.O()}]);